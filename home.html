<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plant Box</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    body {
      padding-bottom: 300px; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô footer ‡∏ó‡∏±‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
    }

    .box {
      transition: all 0.3s ease;
    }

    .box:hover {
      transform: scale(1.01);
      box-shadow: 0 0 10px rgba(0,0,0,0.15);
    }

    footer {
      margin-bottom: 0 !important;
      padding-bottom: 1rem; /* ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ */
    }

    /* Responsive footer */
    @media (max-width: 768px) {
      footer .col-md-4 {
        margin-bottom: 20px;
      }
    }

    @media (max-width: 576px) {
      h1 {
        font-size: 1.6rem;
      }
      .box h2 {
        font-size: 1.2rem;
      }
      .box p {
        font-size: 0.9rem;
      }
      .analyze-btn, .edit-name-btn, .delete-box {
        margin-bottom: 5px;
      }
    }

    #how-to-use .list-group-item {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    #how-to-use .list-group-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }

  </style>
</head>

<body class="bg-light">

  <!-- Header -->
  <div class="container-fluid pb-2 bg-success text-center text-white">
    <h1 class="pt-3">Welcome to <strong>Plant Box</strong></h1>
    <p>‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏ô‡∏õ‡∏•‡∏π‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏π‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ</p>
  </div>

  <!-- Main -->
  <main class="container mt-4 mb-5">
    <div class="text-center mb-4">
      <button class="btn btn-primary" id="addBoxBtn">+ ‡πÄ‡∏û‡∏¥‡πà‡∏° Box</button>
    </div>
    <div id="additionalBoxes" class="row g-3"></div>
  </main>

    <section id="how-to-use" class="py-5 bg-light">
    <div class="container">
      <h2 class="text-center mb-4 fw-bold">üß≠ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</h2>
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="list-group list-group-flush shadow-sm rounded bg-white">
            <div class="list-group-item">
              <h5 class="fw-semibold mb-1">1Ô∏è‚É£ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</h5>
              <p class="mb-0 text-secondary">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <b>‚Äú+ ‡πÄ‡∏û‡∏¥‡πà‡∏° Box‚Äù</b> ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
            </div>
            <div class="list-group-item">
              <h5 class="fw-semibold mb-1">2Ô∏è‚É£ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á</h5>
              <p class="mb-0 text-secondary">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏∑‡∏ä, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏π‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
            </div>
            <div class="list-group-item">
              <h5 class="fw-semibold mb-1">3Ô∏è‚É£ ‡∏•‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</h5>
              <p class="mb-0 text-secondary">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <span class="text-danger">üóëÔ∏è ‡∏•‡∏ö</span> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö</p>
            </div>
            <div class="list-group-item">
              <h5 class="fw-semibold mb-1">4Ô∏è‚É£ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</h5>
              <p class="mb-0 text-secondary">‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
            </div>
            <div class="list-group-item">
              <h5 class="fw-semibold mb-1">5Ô∏è‚É£ ‡∏î‡∏π‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</h5>
              <p class="mb-0 text-secondary">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏à‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å ‡πÜ 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- Footer -->
  <footer class="bg-success text-light py-4 fixed-bottom">
    <div class="container">
      <hr class="border-light">
      <p class="text-center mb-0">¬© 2025 Plant Box Project | Rattanathibate School</p>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    function formatDateTime(dateStr) {
      if (!dateStr) return "--/--/---- --:--:--";
      const d = new Date(dateStr);
      if (isNaN(d)) return "--/--/---- --:--:--";
      const day = String(d.getDate()).padStart(2, "0");
      const month = String(d.getMonth() + 1).padStart(2, "0");
      const year = d.getFullYear();
      const hours = String(d.getHours()).padStart(2, "0");
      const minutes = String(d.getMinutes()).padStart(2, "0");
      const seconds = String(d.getSeconds()).padStart(2, "0");
      return `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`;
    }

    let boxTimes = [];

    async function updateAdditionalBoxes() {
      const boxes = document.querySelectorAll("#additionalBoxes .box");
      boxTimes = [];
      for (const box of boxes) {
        const apiUrl = box.getAttribute("data-api");
        try {
          const res = await fetch(apiUrl);
          if (!res.ok) throw new Error("API error");
          const data = await res.json();
          if (data.length > 0) {
            const tempEl = box.querySelector(".temp");
            const moistureEl = box.querySelector(".moisture");
            const datetimeEl = box.querySelector(".datetime");

            if (tempEl) tempEl.innerText = data[0].temperature + " ¬∞C";
            if (moistureEl) moistureEl.innerText = data[0].moisture + " %";

            if (datetimeEl) {
              const dt = new Date(data[0].timestamp.replace(' ', 'T'));
              boxTimes.push({ el: datetimeEl, date: dt });
              datetimeEl.innerText = formatDateTime(dt);
            }
          }
        } catch {
          const tempEl = box.querySelector(".temp");
          const moistureEl = box.querySelector(".moisture");
          const datetimeEl = box.querySelector(".datetime");

          if (tempEl) tempEl.innerText = "-- ¬∞C";
          if (moistureEl) moistureEl.innerText = "-- %";
          if (datetimeEl) datetimeEl.innerText = "--/--/---- --:--:--";
        }
      }
    }

    function formatDate(date) {
      const day = String(date.getDate()).padStart(2, '0');
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const year = date.getFullYear();
      const hours = String(date.getHours()).padStart(2, '0');
      const mins = String(date.getMinutes()).padStart(2, '0');
      const secs = String(date.getSeconds()).padStart(2, '0');
      return `${day}/${month}/${year} ${hours}:${mins}:${secs}`;
    }

    function tickBoxTimes() {
      boxTimes.forEach(obj => {
        obj.date = new Date(obj.date.getTime() + 1000);
        obj.el.innerText = formatDate(obj.date);
      });
    }

    setInterval(tickBoxTimes, 1000);

    function createBox(boxData) {
      const col = document.createElement("div");
      col.classList.add("col-12", "col-md-6", "col-lg-4");

      const box = document.createElement("div");
      box.classList.add("box", "border", "rounded", "p-3", "bg-white", "position-relative", "h-100");
      box.setAttribute("data-api", boxData.api);
      box.setAttribute("data-name", boxData.name);

      box.innerHTML = `
        <div class="d-flex justify-content-end flex-wrap gap-2 mb-2">
          <button class="btn btn-info btn-sm analyze-btn">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</button>
          <button class="btn btn-warning btn-sm edit-name-btn">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ä‡∏∑‡πà‡∏≠</button>
          <button class="btn btn-danger btn-sm delete-box">‡∏•‡∏ö</button>
        </div>
        <h2 class="text-center box-name">${boxData.name}</h2>

        <div class="row mb-3">
          <div class="col text-center">
            <strong>‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å‡∏õ‡∏•‡∏π‡∏Å:</strong> <span class="plant-date">${boxData.plantDate || "-"}</span>
          </div>
          <div class="col text-center">
            <strong>‡∏ä‡∏ô‡∏¥‡∏î‡∏û‡∏∑‡∏ä:</strong> <span class="plant-type">${boxData.plantType || "-"}</span>
          </div>
          <div class="col text-center">
            <strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÅ‡∏£‡∏Å‡∏õ‡∏•‡∏π‡∏Å (‡∏ã‡∏°.):</strong> <span class="plant-height">${boxData.plantHeight || "-"}</span>
          </div>
        </div>

        <div class="container-fluid mt-3">
          <div class="row text-center">
            <div class="col">
              <h3 class="temp">-- ¬∞C</h3>
              <p>‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏ô‡∏î‡∏¥‡∏ô</p>
            </div>
            <div class="col">
              <h3 class="moisture">-- %</h3>
              <p>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡∏î‡∏¥‡∏ô</p>
            </div>
            <div class="col">
              <h3 class="datetime">--/--/---- --:--:--</h3>
              <p>‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤</p>
            </div>
          </div>
        </div>

        <div class="analysis-result mt-3 text-center fw-bold"></div>
      `;

      box.querySelector(".delete-box").addEventListener("click", () => {
        col.remove();
        saveBoxes();
      });

      box.querySelector(".edit-name-btn").addEventListener("click", () => {
        const newName = prompt("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà:", box.getAttribute("data-name"));
        if (newName && newName.trim() !== "") {
          box.setAttribute("data-name", newName.trim());
          box.querySelector(".box-name").innerText = newName.trim();
          saveBoxes();
        }
      });

      box.querySelector(".analyze-btn").addEventListener("click", async () => {
        const apiUrl = box.getAttribute("data-api");
        const plantDateStr = box.querySelector(".plant-date").innerText;
        const plantType = box.querySelector(".plant-type").innerText;
        const plantHeight = box.querySelector(".plant-height").innerText;
        const tempText = box.querySelector(".temp").innerText.replace(" ¬∞C", "");
        const moistureText = box.querySelector(".moisture").innerText.replace(" %", "");
        const resultEl = box.querySelector(".analysis-result");
        resultEl.innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå...";

        try {
          const res = await fetch('http://192.168.15.1:8000/api/predict_growth', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
              plantDate: plantDateStr,
              plantType,
              plantHeight,
              temperature: parseFloat(tempText),
              moisture: parseFloat(moistureText)
            })
          });
          if (!res.ok) throw new Error("API error");
          const result = await res.json();
          if (result.error) {
            resultEl.innerText = "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + result.error;
            return;
          }

          const today = new Date();
          const harvestDate = new Date(result.estimated_harvest_date);
          const harvestInfo = today >= harvestDate
            ? `‡πÄ‡∏Å‡πá‡∏ö‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${result.estimated_harvest_date}`
            : `‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${result.estimated_harvest_date}`;

          resultEl.innerHTML = `
            ${harvestInfo} <br>
            ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì: ${result.growth_rate_cm_per_day} ‡∏ã‡∏°./‡∏ß‡∏±‡∏ô
          `;
        } catch (error) {
          resultEl.innerText = "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÑ‡∏î‡πâ: " + error.message;
        }
      });

      col.appendChild(box);
      return col;
    }

    function saveBoxes() {
      const boxes = document.querySelectorAll("#additionalBoxes .box");
      const data = [];
      boxes.forEach(box => {
        data.push({
          name: box.getAttribute("data-name"),
          api: box.getAttribute("data-api"),
          plantDate: box.querySelector(".plant-date").innerText,
          plantType: box.querySelector(".plant-type").innerText,
          plantHeight: box.querySelector(".plant-height").innerText,
        });
      });
      localStorage.setItem("plantBoxes", JSON.stringify(data));
    }

    function loadBoxes() {
      const data = localStorage.getItem("plantBoxes");
      if (!data) return;
      const boxList = JSON.parse(data);
      const boxContainer = document.getElementById("additionalBoxes");
      boxContainer.innerHTML = "";

      boxList.forEach(boxData => {
        const box = createBox(boxData);
        boxContainer.appendChild(box);
      });

      updateAdditionalBoxes();
    }

    function isValidUrl(string) {
      try {
        new URL(string);
        return true;
      } catch (_) {
        return false;
      }
    }

    document.getElementById("addBoxBtn").addEventListener("click", () => {
      const apiUrl = prompt("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà API URL ‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ (‡πÄ‡∏ä‡πà‡∏ô http://192.168.1.100:8000/api/sensor/latest):");
      if (!apiUrl) return alert("‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà API URL");
      if (!isValidUrl(apiUrl)) return alert("URL ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");

      const boxName = prompt("‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ:", `Box ${document.getElementById("additionalBoxes").childElementCount + 1}`);
      if (!boxName || boxName.trim() === "") return alert("‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á");

      const plantDate = prompt("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å‡∏õ‡∏•‡∏π‡∏Å (YYYY-MM-DD):");
      if (!plantDate || !/^\d{4}-\d{2}-\d{2}$/.test(plantDate)) return alert("‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");

      const plantType = prompt("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏ô‡∏¥‡∏î‡∏û‡∏∑‡∏ä:");
      if (!plantType || plantType.trim() === "") return alert("‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏ä‡∏ô‡∏¥‡∏î‡∏û‡∏∑‡∏ä");

      const plantHeight = prompt("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÅ‡∏£‡∏Å‡∏õ‡∏•‡∏π‡∏Å (‡∏ã‡∏°.):");
      if (!plantHeight || isNaN(parseFloat(plantHeight))) return alert("‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç");

      const boxContainer = document.getElementById("additionalBoxes");

      const boxData = {
        api: apiUrl.trim(),
        name: boxName.trim(),
        plantDate: plantDate.trim(),
        plantType: plantType.trim(),
        plantHeight: plantHeight.trim(),
      };

      const box = createBox(boxData);
      boxContainer.appendChild(box);
      saveBoxes();
      updateAdditionalBoxes();
    });

    setInterval(updateAdditionalBoxes, 5000);
    loadBoxes();
  </script>
</body>
</html>
